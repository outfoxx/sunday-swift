{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy"},"kind":"symbol","sections":[],"abstract":[{"type":"text","text":"The "},{"code":"ServerTrustPolicy","type":"codeVoice"},{"text":" evaluates the server trust generally provided by an ","type":"text"},{"type":"codeVoice","code":"NSURLAuthenticationChallenge"},{"type":"text","text":" when"},{"text":" ","type":"text"},{"type":"text","text":"connecting to a server over a secure HTTPS connection. The policy configuration then evaluates the server trust"},{"type":"text","text":" "},{"text":"with a given set of criteria to determine whether the server trust is valid and the connection should be made.","type":"text"}],"primaryContentSections":[{"declarations":[{"platforms":["macOS"],"languages":["swift"],"tokens":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ServerTrustPolicy","kind":"identifier"}]}],"kind":"declarations"},{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Using pinned certificates or public keys for evaluation helps prevent man-in-the-middle (MITM) attacks and other"},{"type":"text","text":" "},{"type":"text","text":"vulnerabilities. Applications dealing with sensitive customer data or financial information are strongly encouraged"},{"text":" ","type":"text"},{"text":"to route all communication over an HTTPS connection with pinning enabled.","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"performDefaultEvaluation: Uses the default server trust evaluation while allowing you to control whether to","type":"text"},{"type":"text","text":" "},{"text":"validate the host provided by the challenge. Applications are encouraged to always","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"validate the host in production environments to guarantee the validity of the server’s"},{"type":"text","text":" "},{"text":"certificate chain.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"performRevokedEvaluation: Uses the default and revoked server trust evaluations allowing you to control whether to"},{"text":" ","type":"text"},{"text":"validate the host provided by the challenge as well as specify the revocation flags for","type":"text"},{"type":"text","text":" "},{"text":"testing for revoked certificates. Apple platforms did not start testing for revoked","type":"text"},{"type":"text","text":" "},{"type":"text","text":"certificates automatically until iOS 10.1, macOS 10.12 and tvOS 10.1 which is"},{"text":" ","type":"text"},{"type":"text","text":"demonstrated in our TLS tests. Applications are encouraged to always validate the host"},{"text":" ","type":"text"},{"type":"text","text":"in production environments to guarantee the validity of the server’s certificate chain."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"pinCertificates:          Uses the pinned certificates to validate the server trust. The server trust is"},{"text":" ","type":"text"},{"type":"text","text":"considered valid if one of the pinned certificates match one of the server certificates."},{"type":"text","text":" "},{"type":"text","text":"By validating both the certificate chain and host, certificate pinning provides a very"},{"type":"text","text":" "},{"text":"secure form of server trust validation mitigating most, if not all, MITM attacks.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Applications are encouraged to always validate the host and require a valid certificate"},{"type":"text","text":" "},{"type":"text","text":"chain in production environments."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"pinPublicKeys:            Uses the pinned public keys to validate the server trust. The server trust is considered","type":"text"},{"type":"text","text":" "},{"type":"text","text":"valid if one of the pinned public keys match one of the server certificate public keys."},{"text":" ","type":"text"},{"type":"text","text":"By validating both the certificate chain and host, public key pinning provides a very"},{"text":" ","type":"text"},{"text":"secure form of server trust validation mitigating most, if not all, MITM attacks.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Applications are encouraged to always validate the host and require a valid certificate"},{"text":" ","type":"text"},{"type":"text","text":"chain in production environments."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"disableEvaluation:        Disables all evaluation which in turn will always consider any server trust as valid.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"customEvaluation:         Uses the associated closure to evaluate the validity of the server trust."}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/sunday\/servertrustpolicy"]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"metadata":{"title":"ServerTrustPolicy","roleHeading":"Enumeration","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"ServerTrustPolicy"}],"navigatorTitle":[{"text":"ServerTrustPolicy","kind":"identifier"}],"externalID":"s:6Sunday17ServerTrustPolicyO","role":"symbol","modules":[{"name":"Sunday"}],"symbolKind":"enum"},"topicSections":[{"identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/customEvaluation(_:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/disableEvaluation","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performDefaultEvaluation(validateHost:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performRevokedEvaluation(validateHost:revocationFlags:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinCertificates(certificates:validateCertificateChain:validateHost:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)"],"title":"Enumeration Cases","generated":true,"anchor":"Enumeration-Cases"},{"generated":true,"title":"Instance Methods","identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/evaluate(_:forHost:)"],"anchor":"Instance-Methods"},{"title":"Type Methods","identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/certificates(in:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/publicKeys(in:)"],"anchor":"Type-Methods","generated":true}],"hierarchy":{"paths":[["doc:\/\/Sunday\/documentation\/Sunday"]]},"references":{"doc://Sunday/documentation/Sunday/ServerTrustPolicy/performRevokedEvaluation(validateHost:revocationFlags:)":{"role":"symbol","title":"ServerTrustPolicy.performRevokedEvaluation(validateHost:revocationFlags:)","url":"\/documentation\/sunday\/servertrustpolicy\/performrevokedevaluation(validatehost:revocationflags:)","type":"topic","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"performRevokedEvaluation","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"validateHost"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"kind":"text","text":", "},{"kind":"externalParam","text":"revocationFlags"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@CFOptionFlags","text":"CFOptionFlags"},{"text":")","kind":"text"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performRevokedEvaluation(validateHost:revocationFlags:)","abstract":[],"kind":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)":{"type":"topic","url":"\/documentation\/sunday\/servertrustpolicy\/pinpublickeys(publickeys:validatecertificatechain:validatehost:)","title":"ServerTrustPolicy.pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)","abstract":[],"role":"symbol","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"text":"pinPublicKeys","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"publicKeys"},{"text":": [","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@SecKeyRef","text":"SecKey"},{"text":"], ","kind":"text"},{"text":"validateCertificateChain","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"validateHost"},{"kind":"text","text":": "},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"kind":"text","text":")"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/performDefaultEvaluation(validateHost:)":{"title":"ServerTrustPolicy.performDefaultEvaluation(validateHost:)","url":"\/documentation\/sunday\/servertrustpolicy\/performdefaultevaluation(validatehost:)","type":"topic","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performDefaultEvaluation(validateHost:)","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"performDefaultEvaluation"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"validateHost"},{"kind":"text","text":": "},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"kind":"text","text":")"}],"abstract":[],"kind":"symbol","role":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/evaluate(_:forHost:)":{"type":"topic","kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/evaluate(_:forhost:)","title":"evaluate(_:forHost:)","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/evaluate(_:forHost:)","abstract":[{"type":"text","text":"Evaluates whether the server trust is valid for the given host."}],"role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"evaluate"},{"kind":"text","text":"("},{"preciseIdentifier":"c:@T@SecTrustRef","kind":"typeIdentifier","text":"SecTrust"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"forHost"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/pinCertificates(certificates:validateCertificateChain:validateHost:)":{"title":"ServerTrustPolicy.pinCertificates(certificates:validateCertificateChain:validateHost:)","abstract":[],"fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"kind":"identifier","text":"pinCertificates"},{"kind":"text","text":"("},{"text":"certificates","kind":"externalParam"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@SecCertificateRef","text":"SecCertificate"},{"text":"], ","kind":"text"},{"text":"validateCertificateChain","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"validateHost","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"text":")","kind":"text"}],"type":"topic","kind":"symbol","role":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/pincertificates(certificates:validatecertificatechain:validatehost:)","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinCertificates(certificates:validateCertificateChain:validateHost:)"},"doc://Sunday/documentation/Sunday":{"kind":"symbol","role":"collection","title":"Sunday","identifier":"doc:\/\/Sunday\/documentation\/Sunday","abstract":[],"url":"\/documentation\/sunday","type":"topic"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy":{"role":"symbol","url":"\/documentation\/sunday\/servertrustpolicy","title":"ServerTrustPolicy","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy","type":"topic","abstract":[{"type":"text","text":"The "},{"code":"ServerTrustPolicy","type":"codeVoice"},{"type":"text","text":" evaluates the server trust generally provided by an "},{"type":"codeVoice","code":"NSURLAuthenticationChallenge"},{"type":"text","text":" when"},{"type":"text","text":" "},{"text":"connecting to a server over a secure HTTPS connection. The policy configuration then evaluates the server trust","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"with a given set of criteria to determine whether the server trust is valid and the connection should be made."}],"kind":"symbol","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"ServerTrustPolicy","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"ServerTrustPolicy"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/disableEvaluation":{"type":"topic","kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/disableevaluation","title":"ServerTrustPolicy.disableEvaluation","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/disableEvaluation","abstract":[],"role":"symbol","fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"text":"disableEvaluation","kind":"identifier"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/certificates(in:)":{"title":"certificates(in:)","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"certificates","kind":"identifier"},{"kind":"text","text":"("},{"text":"in","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSBundle","text":"Bundle"},{"kind":"text","text":") -> ["},{"preciseIdentifier":"c:@T@SecCertificateRef","text":"SecCertificate","kind":"typeIdentifier"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Returns all certificates within the given bundle with a "},{"code":".cer","type":"codeVoice"},{"type":"text","text":", "},{"code":".CER","type":"codeVoice"},{"type":"text","text":", "},{"code":".crt","type":"codeVoice"},{"text":", ","type":"text"},{"code":".CRT","type":"codeVoice"},{"type":"text","text":", "},{"code":".der","type":"codeVoice"},{"type":"text","text":", or "},{"type":"codeVoice","code":".DER"},{"type":"text","text":" "},{"text":"file extensions.","type":"text"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/certificates(in:)","kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/certificates(in:)","type":"topic","role":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/customEvaluation(_:)":{"role":"symbol","title":"ServerTrustPolicy.customEvaluation(_:)","url":"\/documentation\/sunday\/servertrustpolicy\/customevaluation(_:)","type":"topic","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"customEvaluation"},{"kind":"text","text":"(("},{"kind":"typeIdentifier","text":"SecTrust","preciseIdentifier":"c:@T@SecTrustRef"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"kind":"text","text":")"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/customEvaluation(_:)","abstract":[],"kind":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/publicKeys(in:)":{"title":"publicKeys(in:)","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/publicKeys(in:)","type":"topic","url":"\/documentation\/sunday\/servertrustpolicy\/publickeys(in:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"publicKeys","kind":"identifier"},{"kind":"text","text":"("},{"text":"in","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bundle","preciseIdentifier":"c:objc(cs)NSBundle"},{"kind":"text","text":") -> ["},{"preciseIdentifier":"c:@T@SecKeyRef","kind":"typeIdentifier","text":"SecKey"},{"kind":"text","text":"]"}],"abstract":[{"text":"Extracts and returns all public keys from certificates within the given bundle with a ","type":"text"},{"type":"codeVoice","code":".cer"},{"type":"text","text":", "},{"code":".CER","type":"codeVoice"},{"type":"text","text":", "},{"code":".crt","type":"codeVoice"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":".CRT"},{"type":"text","text":", "},{"type":"codeVoice","code":".der"},{"type":"text","text":", or "},{"code":".DER","type":"codeVoice"},{"type":"text","text":" file extension."}],"kind":"symbol","role":"symbol"}}}