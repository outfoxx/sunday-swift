{"sections":[],"schemaVersion":{"patch":0,"major":0,"minor":3},"variants":[{"paths":["\/documentation\/sunday\/servertrustpolicy"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"symbolKind":"enum","modules":[{"name":"Sunday"}],"externalID":"s:6Sunday17ServerTrustPolicyO","roleHeading":"Enumeration","title":"ServerTrustPolicy","role":"symbol","navigatorTitle":[{"text":"ServerTrustPolicy","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"kind":"identifier","text":"ServerTrustPolicy"}]},"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"text":"ServerTrustPolicy","kind":"identifier"}],"languages":["swift"]}]},{"content":[{"text":"Overview","type":"heading","anchor":"overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Using pinned certificates or public keys for evaluation helps prevent man-in-the-middle (MITM) attacks and other"},{"text":" ","type":"text"},{"type":"text","text":"vulnerabilities. Applications dealing with sensitive customer data or financial information are strongly encouraged"},{"type":"text","text":" "},{"type":"text","text":"to route all communication over an HTTPS connection with pinning enabled."}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"performDefaultEvaluation: Uses the default server trust evaluation while allowing you to control whether to"},{"text":" ","type":"text"},{"text":"validate the host provided by the challenge. Applications are encouraged to always","type":"text"},{"text":" ","type":"text"},{"text":"validate the host in production environments to guarantee the validity of the server’s","type":"text"},{"type":"text","text":" "},{"text":"certificate chain.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"performRevokedEvaluation: Uses the default and revoked server trust evaluations allowing you to control whether to","type":"text"},{"text":" ","type":"text"},{"text":"validate the host provided by the challenge as well as specify the revocation flags for","type":"text"},{"type":"text","text":" "},{"text":"testing for revoked certificates. Apple platforms did not start testing for revoked","type":"text"},{"type":"text","text":" "},{"type":"text","text":"certificates automatically until iOS 10.1, macOS 10.12 and tvOS 10.1 which is"},{"type":"text","text":" "},{"type":"text","text":"demonstrated in our TLS tests. Applications are encouraged to always validate the host"},{"text":" ","type":"text"},{"text":"in production environments to guarantee the validity of the server’s certificate chain.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"pinCertificates:          Uses the pinned certificates to validate the server trust. The server trust is","type":"text"},{"type":"text","text":" "},{"type":"text","text":"considered valid if one of the pinned certificates match one of the server certificates."},{"type":"text","text":" "},{"type":"text","text":"By validating both the certificate chain and host, certificate pinning provides a very"},{"type":"text","text":" "},{"text":"secure form of server trust validation mitigating most, if not all, MITM attacks.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Applications are encouraged to always validate the host and require a valid certificate"},{"type":"text","text":" "},{"text":"chain in production environments.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"pinPublicKeys:            Uses the pinned public keys to validate the server trust. The server trust is considered","type":"text"},{"type":"text","text":" "},{"type":"text","text":"valid if one of the pinned public keys match one of the server certificate public keys."},{"type":"text","text":" "},{"type":"text","text":"By validating both the certificate chain and host, public key pinning provides a very"},{"type":"text","text":" "},{"text":"secure form of server trust validation mitigating most, if not all, MITM attacks.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Applications are encouraged to always validate the host and require a valid certificate"},{"type":"text","text":" "},{"text":"chain in production environments.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"disableEvaluation:        Disables all evaluation which in turn will always consider any server trust as valid."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"customEvaluation:         Uses the associated closure to evaluate the validity of the server trust."}],"type":"paragraph"}]}]}],"kind":"content"}],"topicSections":[{"title":"Enumeration Cases","generated":true,"identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/customEvaluation(_:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/disableEvaluation","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performDefaultEvaluation(validateHost:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performRevokedEvaluation(validateHost:revocationFlags:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinCertificates(certificates:validateCertificateChain:validateHost:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)"],"anchor":"Enumeration-Cases"},{"generated":true,"anchor":"Instance-Methods","title":"Instance Methods","identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/evaluate(_:forHost:)"]},{"anchor":"Type-Methods","title":"Type Methods","identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/certificates(in:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/publicKeys(in:)"],"generated":true}],"identifier":{"url":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/Sunday\/documentation\/Sunday"]]},"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"ServerTrustPolicy"},{"type":"text","text":" evaluates the server trust generally provided by an "},{"code":"NSURLAuthenticationChallenge","type":"codeVoice"},{"type":"text","text":" when"},{"text":" ","type":"text"},{"type":"text","text":"connecting to a server over a secure HTTPS connection. The policy configuration then evaluates the server trust"},{"type":"text","text":" "},{"type":"text","text":"with a given set of criteria to determine whether the server trust is valid and the connection should be made."}],"references":{"doc://Sunday/documentation/Sunday/ServerTrustPolicy/pinCertificates(certificates:validateCertificateChain:validateHost:)":{"abstract":[],"type":"topic","title":"ServerTrustPolicy.pinCertificates(certificates:validateCertificateChain:validateHost:)","role":"symbol","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinCertificates(certificates:validateCertificateChain:validateHost:)","url":"\/documentation\/sunday\/servertrustpolicy\/pincertificates(certificates:validatecertificatechain:validatehost:)","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"pinCertificates","kind":"identifier"},{"kind":"text","text":"("},{"text":"certificates","kind":"externalParam"},{"text":": [","kind":"text"},{"text":"SecCertificate","kind":"typeIdentifier","preciseIdentifier":"c:@T@SecCertificateRef"},{"text":"], ","kind":"text"},{"kind":"externalParam","text":"validateCertificateChain"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"text":", ","kind":"text"},{"text":"validateHost","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"text":")","kind":"text"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)":{"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)","abstract":[],"title":"ServerTrustPolicy.pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)","kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/pinpublickeys(publickeys:validatecertificatechain:validatehost:)","role":"symbol","type":"topic","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"text":"pinPublicKeys","kind":"identifier"},{"text":"(","kind":"text"},{"text":"publicKeys","kind":"externalParam"},{"kind":"text","text":": ["},{"text":"SecKey","kind":"typeIdentifier","preciseIdentifier":"c:@T@SecKeyRef"},{"kind":"text","text":"], "},{"text":"validateCertificateChain","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"validateHost"},{"text":": ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"text":")","kind":"text"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/disableEvaluation":{"abstract":[],"type":"topic","title":"ServerTrustPolicy.disableEvaluation","role":"symbol","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/disableEvaluation","url":"\/documentation\/sunday\/servertrustpolicy\/disableevaluation","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"disableEvaluation","kind":"identifier"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/evaluate(_:forHost:)":{"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/evaluate(_:forHost:)","abstract":[{"text":"Evaluates whether the server trust is valid for the given host.","type":"text"}],"title":"evaluate(_:forHost:)","kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/evaluate(_:forhost:)","role":"symbol","type":"topic","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"evaluate"},{"text":"(","kind":"text"},{"preciseIdentifier":"c:@T@SecTrustRef","text":"SecTrust","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"forHost","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/performRevokedEvaluation(validateHost:revocationFlags:)":{"abstract":[],"type":"topic","title":"ServerTrustPolicy.performRevokedEvaluation(validateHost:revocationFlags:)","role":"symbol","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performRevokedEvaluation(validateHost:revocationFlags:)","url":"\/documentation\/sunday\/servertrustpolicy\/performrevokedevaluation(validatehost:revocationflags:)","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"text":"performRevokedEvaluation","kind":"identifier"},{"kind":"text","text":"("},{"text":"validateHost","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"revocationFlags"},{"text":": ","kind":"text"},{"text":"CFOptionFlags","preciseIdentifier":"c:@T@CFOptionFlags","kind":"typeIdentifier"},{"text":")","kind":"text"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/publicKeys(in:)":{"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/publicKeys(in:)","abstract":[{"text":"Extracts and returns all public keys from certificates within the given bundle with a ","type":"text"},{"type":"codeVoice","code":".cer"},{"type":"text","text":", "},{"type":"codeVoice","code":".CER"},{"type":"text","text":", "},{"type":"codeVoice","code":".crt"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":".CRT"},{"type":"text","text":", "},{"type":"codeVoice","code":".der"},{"text":", or ","type":"text"},{"type":"codeVoice","code":".DER"},{"type":"text","text":" file extension."}],"title":"publicKeys(in:)","kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/publickeys(in:)","role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"publicKeys"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Bundle","preciseIdentifier":"c:objc(cs)NSBundle"},{"kind":"text","text":") -> ["},{"text":"SecKey","kind":"typeIdentifier","preciseIdentifier":"c:@T@SecKeyRef"},{"kind":"text","text":"]"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/certificates(in:)":{"abstract":[{"type":"text","text":"Returns all certificates within the given bundle with a "},{"type":"codeVoice","code":".cer"},{"type":"text","text":", "},{"type":"codeVoice","code":".CER"},{"text":", ","type":"text"},{"type":"codeVoice","code":".crt"},{"type":"text","text":", "},{"type":"codeVoice","code":".CRT"},{"text":", ","type":"text"},{"type":"codeVoice","code":".der"},{"type":"text","text":", or "},{"type":"codeVoice","code":".DER"},{"type":"text","text":" "},{"type":"text","text":"file extensions."}],"type":"topic","title":"certificates(in:)","role":"symbol","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/certificates(in:)","url":"\/documentation\/sunday\/servertrustpolicy\/certificates(in:)","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"certificates","kind":"identifier"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSBundle","kind":"typeIdentifier","text":"Bundle"},{"text":") -> [","kind":"text"},{"text":"SecCertificate","preciseIdentifier":"c:@T@SecCertificateRef","kind":"typeIdentifier"},{"text":"]","kind":"text"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/customEvaluation(_:)":{"type":"topic","kind":"symbol","title":"ServerTrustPolicy.customEvaluation(_:)","role":"symbol","fragments":[{"kind":"keyword","text":"case"},{"text":" ","kind":"text"},{"text":"customEvaluation","kind":"identifier"},{"kind":"text","text":"(("},{"text":"SecTrust","preciseIdentifier":"c:@T@SecTrustRef","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"text":")","kind":"text"}],"abstract":[],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/customEvaluation(_:)","url":"\/documentation\/sunday\/servertrustpolicy\/customevaluation(_:)"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy":{"url":"\/documentation\/sunday\/servertrustpolicy","role":"symbol","type":"topic","title":"ServerTrustPolicy","abstract":[{"text":"The ","type":"text"},{"code":"ServerTrustPolicy","type":"codeVoice"},{"type":"text","text":" evaluates the server trust generally provided by an "},{"code":"NSURLAuthenticationChallenge","type":"codeVoice"},{"text":" when","type":"text"},{"type":"text","text":" "},{"text":"connecting to a server over a secure HTTPS connection. The policy configuration then evaluates the server trust","type":"text"},{"text":" ","type":"text"},{"text":"with a given set of criteria to determine whether the server trust is valid and the connection should be made.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"ServerTrustPolicy"}],"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"ServerTrustPolicy"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy","kind":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/performDefaultEvaluation(validateHost:)":{"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performDefaultEvaluation(validateHost:)","abstract":[],"title":"ServerTrustPolicy.performDefaultEvaluation(validateHost:)","kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/performdefaultevaluation(validatehost:)","role":"symbol","type":"topic","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"performDefaultEvaluation","kind":"identifier"},{"kind":"text","text":"("},{"text":"validateHost","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"text":")","kind":"text"}]},"doc://Sunday/documentation/Sunday":{"abstract":[],"url":"\/documentation\/sunday","kind":"symbol","title":"Sunday","type":"topic","role":"collection","identifier":"doc:\/\/Sunday\/documentation\/Sunday"}}}