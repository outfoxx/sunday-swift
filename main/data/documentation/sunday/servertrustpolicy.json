{"variants":[{"paths":["\/documentation\/sunday\/servertrustpolicy"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ServerTrustPolicy","kind":"identifier"}],"symbolKind":"enum","modules":[{"name":"Sunday"}],"role":"symbol","externalID":"s:6Sunday17ServerTrustPolicyO","navigatorTitle":[{"text":"ServerTrustPolicy","kind":"identifier"}],"title":"ServerTrustPolicy","roleHeading":"Enumeration"},"primaryContentSections":[{"declarations":[{"platforms":["macOS"],"tokens":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"ServerTrustPolicy","kind":"identifier"}],"languages":["swift"]}],"kind":"declarations"},{"kind":"content","content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"inlineContent":[{"text":"Using pinned certificates or public keys for evaluation helps prevent man-in-the-middle (MITM) attacks and other","type":"text"},{"type":"text","text":" "},{"type":"text","text":"vulnerabilities. Applications dealing with sensitive customer data or financial information are strongly encouraged"},{"type":"text","text":" "},{"type":"text","text":"to route all communication over an HTTPS connection with pinning enabled."}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"performDefaultEvaluation: Uses the default server trust evaluation while allowing you to control whether to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"validate the host provided by the challenge. Applications are encouraged to always"},{"text":" ","type":"text"},{"text":"validate the host in production environments to guarantee the validity of the server’s","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"certificate chain."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"performRevokedEvaluation: Uses the default and revoked server trust evaluations allowing you to control whether to"},{"type":"text","text":" "},{"type":"text","text":"validate the host provided by the challenge as well as specify the revocation flags for"},{"text":" ","type":"text"},{"type":"text","text":"testing for revoked certificates. Apple platforms did not start testing for revoked"},{"type":"text","text":" "},{"type":"text","text":"certificates automatically until iOS 10.1, macOS 10.12 and tvOS 10.1 which is"},{"type":"text","text":" "},{"type":"text","text":"demonstrated in our TLS tests. Applications are encouraged to always validate the host"},{"type":"text","text":" "},{"text":"in production environments to guarantee the validity of the server’s certificate chain.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"pinCertificates:          Uses the pinned certificates to validate the server trust. The server trust is","type":"text"},{"type":"text","text":" "},{"text":"considered valid if one of the pinned certificates match one of the server certificates.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"By validating both the certificate chain and host, certificate pinning provides a very"},{"type":"text","text":" "},{"type":"text","text":"secure form of server trust validation mitigating most, if not all, MITM attacks."},{"type":"text","text":" "},{"type":"text","text":"Applications are encouraged to always validate the host and require a valid certificate"},{"type":"text","text":" "},{"text":"chain in production environments.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"pinPublicKeys:            Uses the pinned public keys to validate the server trust. The server trust is considered"},{"text":" ","type":"text"},{"type":"text","text":"valid if one of the pinned public keys match one of the server certificate public keys."},{"type":"text","text":" "},{"type":"text","text":"By validating both the certificate chain and host, public key pinning provides a very"},{"text":" ","type":"text"},{"type":"text","text":"secure form of server trust validation mitigating most, if not all, MITM attacks."},{"text":" ","type":"text"},{"text":"Applications are encouraged to always validate the host and require a valid certificate","type":"text"},{"text":" ","type":"text"},{"text":"chain in production environments.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"disableEvaluation:        Disables all evaluation which in turn will always consider any server trust as valid."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"customEvaluation:         Uses the associated closure to evaluate the validity of the server trust."}]}]}]}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy"},"topicSections":[{"generated":true,"identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/customEvaluation(_:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/disableEvaluation","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performDefaultEvaluation(validateHost:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performRevokedEvaluation(validateHost:revocationFlags:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinCertificates(certificates:validateCertificateChain:validateHost:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)"],"anchor":"Enumeration-Cases","title":"Enumeration Cases"},{"generated":true,"identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/evaluate(_:forHost:)"],"title":"Instance Methods","anchor":"Instance-Methods"},{"title":"Type Methods","generated":true,"identifiers":["doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/certificates(in:)","doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/publicKeys(in:)"],"anchor":"Type-Methods"}],"sections":[],"hierarchy":{"paths":[["doc:\/\/Sunday\/documentation\/Sunday"]]},"schemaVersion":{"patch":0,"minor":3,"major":0},"abstract":[{"type":"text","text":"The "},{"code":"ServerTrustPolicy","type":"codeVoice"},{"type":"text","text":" evaluates the server trust generally provided by an "},{"code":"NSURLAuthenticationChallenge","type":"codeVoice"},{"text":" when","type":"text"},{"type":"text","text":" "},{"type":"text","text":"connecting to a server over a secure HTTPS connection. The policy configuration then evaluates the server trust"},{"text":" ","type":"text"},{"type":"text","text":"with a given set of criteria to determine whether the server trust is valid and the connection should be made."}],"kind":"symbol","references":{"doc://Sunday/documentation/Sunday":{"abstract":[],"url":"\/documentation\/sunday","title":"Sunday","kind":"symbol","role":"collection","identifier":"doc:\/\/Sunday\/documentation\/Sunday","type":"topic"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/performDefaultEvaluation(validateHost:)":{"url":"\/documentation\/sunday\/servertrustpolicy\/performdefaultevaluation(validatehost:)","role":"symbol","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performDefaultEvaluation(validateHost:)","title":"ServerTrustPolicy.performDefaultEvaluation(validateHost:)","abstract":[],"type":"topic","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"text":"performDefaultEvaluation","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"validateHost"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"text":")","kind":"text"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/pinCertificates(certificates:validateCertificateChain:validateHost:)":{"fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"pinCertificates"},{"kind":"text","text":"("},{"kind":"externalParam","text":"certificates"},{"text":": [","kind":"text"},{"preciseIdentifier":"c:@T@SecCertificateRef","text":"SecCertificate","kind":"typeIdentifier"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"validateCertificateChain"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"validateHost","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":")","kind":"text"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinCertificates(certificates:validateCertificateChain:validateHost:)","url":"\/documentation\/sunday\/servertrustpolicy\/pincertificates(certificates:validatecertificatechain:validatehost:)","type":"topic","kind":"symbol","role":"symbol","abstract":[],"title":"ServerTrustPolicy.pinCertificates(certificates:validateCertificateChain:validateHost:)"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)":{"url":"\/documentation\/sunday\/servertrustpolicy\/pinpublickeys(publickeys:validatecertificatechain:validatehost:)","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"text":"pinPublicKeys","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"publicKeys"},{"text":": [","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@SecKeyRef","text":"SecKey"},{"text":"], ","kind":"text"},{"kind":"externalParam","text":"validateCertificateChain"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"validateHost"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"text":")","kind":"text"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)","abstract":[],"role":"symbol","type":"topic","title":"ServerTrustPolicy.pinPublicKeys(publicKeys:validateCertificateChain:validateHost:)","kind":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/evaluate(_:forHost:)":{"url":"\/documentation\/sunday\/servertrustpolicy\/evaluate(_:forhost:)","role":"symbol","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/evaluate(_:forHost:)","title":"evaluate(_:forHost:)","abstract":[{"text":"Evaluates whether the server trust is valid for the given host.","type":"text"}],"type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"evaluate"},{"kind":"text","text":"("},{"text":"SecTrust","kind":"typeIdentifier","preciseIdentifier":"c:@T@SecTrustRef"},{"kind":"text","text":", "},{"text":"forHost","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/certificates(in:)":{"url":"\/documentation\/sunday\/servertrustpolicy\/certificates(in:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"certificates","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"in"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bundle","preciseIdentifier":"c:objc(cs)NSBundle"},{"text":") -> [","kind":"text"},{"text":"SecCertificate","kind":"typeIdentifier","preciseIdentifier":"c:@T@SecCertificateRef"},{"kind":"text","text":"]"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/certificates(in:)","abstract":[{"text":"Returns all certificates within the given bundle with a ","type":"text"},{"code":".cer","type":"codeVoice"},{"text":", ","type":"text"},{"type":"codeVoice","code":".CER"},{"type":"text","text":", "},{"code":".crt","type":"codeVoice"},{"text":", ","type":"text"},{"code":".CRT","type":"codeVoice"},{"text":", ","type":"text"},{"type":"codeVoice","code":".der"},{"text":", or ","type":"text"},{"code":".DER","type":"codeVoice"},{"text":" ","type":"text"},{"type":"text","text":"file extensions."}],"role":"symbol","type":"topic","title":"certificates(in:)","kind":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy":{"abstract":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"ServerTrustPolicy"},{"text":" evaluates the server trust generally provided by an ","type":"text"},{"type":"codeVoice","code":"NSURLAuthenticationChallenge"},{"type":"text","text":" when"},{"type":"text","text":" "},{"type":"text","text":"connecting to a server over a secure HTTPS connection. The policy configuration then evaluates the server trust"},{"type":"text","text":" "},{"text":"with a given set of criteria to determine whether the server trust is valid and the connection should be made.","type":"text"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy","navigatorTitle":[{"text":"ServerTrustPolicy","kind":"identifier"}],"fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"ServerTrustPolicy"}],"title":"ServerTrustPolicy","url":"\/documentation\/sunday\/servertrustpolicy","kind":"symbol","type":"topic","role":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/performRevokedEvaluation(validateHost:revocationFlags:)":{"url":"\/documentation\/sunday\/servertrustpolicy\/performrevokedevaluation(validatehost:revocationflags:)","role":"symbol","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/performRevokedEvaluation(validateHost:revocationFlags:)","title":"ServerTrustPolicy.performRevokedEvaluation(validateHost:revocationFlags:)","abstract":[],"type":"topic","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"performRevokedEvaluation","kind":"identifier"},{"kind":"text","text":"("},{"text":"validateHost","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"revocationFlags"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"CFOptionFlags","preciseIdentifier":"c:@T@CFOptionFlags"},{"text":")","kind":"text"}]},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/disableEvaluation":{"role":"symbol","type":"topic","abstract":[],"title":"ServerTrustPolicy.disableEvaluation","identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/disableEvaluation","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"disableEvaluation","kind":"identifier"}],"url":"\/documentation\/sunday\/servertrustpolicy\/disableevaluation","kind":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/customEvaluation(_:)":{"url":"\/documentation\/sunday\/servertrustpolicy\/customevaluation(_:)","fragments":[{"text":"case","kind":"keyword"},{"kind":"text","text":" "},{"text":"customEvaluation","kind":"identifier"},{"kind":"text","text":"(("},{"text":"SecTrust","kind":"typeIdentifier","preciseIdentifier":"c:@T@SecTrustRef"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"text":")","kind":"text"}],"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/customEvaluation(_:)","abstract":[],"role":"symbol","type":"topic","title":"ServerTrustPolicy.customEvaluation(_:)","kind":"symbol"},"doc://Sunday/documentation/Sunday/ServerTrustPolicy/publicKeys(in:)":{"identifier":"doc:\/\/Sunday\/documentation\/Sunday\/ServerTrustPolicy\/publicKeys(in:)","abstract":[{"type":"text","text":"Extracts and returns all public keys from certificates within the given bundle with a "},{"type":"codeVoice","code":".cer"},{"type":"text","text":", "},{"type":"codeVoice","code":".CER"},{"text":", ","type":"text"},{"type":"codeVoice","code":".crt"},{"text":",","type":"text"},{"type":"text","text":" "},{"type":"codeVoice","code":".CRT"},{"type":"text","text":", "},{"code":".der","type":"codeVoice"},{"text":", or ","type":"text"},{"code":".DER","type":"codeVoice"},{"type":"text","text":" file extension."}],"kind":"symbol","url":"\/documentation\/sunday\/servertrustpolicy\/publickeys(in:)","title":"publicKeys(in:)","type":"topic","fragments":[{"text":"static","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"publicKeys","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"in"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSBundle","text":"Bundle"},{"kind":"text","text":") -> ["},{"preciseIdentifier":"c:@T@SecKeyRef","text":"SecKey","kind":"typeIdentifier"},{"kind":"text","text":"]"}],"role":"symbol"}}}